<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>× ×™×”×•×œ ×”××›×•×œ×ª - ×¤×× ×œ × ×™×”×•×œ</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 20px; direction: rtl; text-align: center; }
        .box { background: white; max-width: 600px; margin: auto; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        input, select, button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #ddd; box-sizing: border-box; font-size: 1rem; }
        button { background: #28a745; color: white; border: none; font-weight: bold; cursor: pointer; }
        .danger { background: #dc3545; margin-top: 10px; }
        
        table { width: 100%; max-width: 900px; margin: 30px auto; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; }
        th, td { padding: 15px; border-bottom: 1px solid #eee; text-align: center; }
        th { background: #28a745; color: white; }
        .img-preview { width: 50px; height: 50px; object-fit: cover; border-radius: 5px; }
    </style>
</head>
<body>

<div class="box">
    <h2>×”×•×¡×¤×ª ××•×¦×¨ ×—×“×© ğŸ“¦</h2>
    <input type="text" id="pName" placeholder="×©× ×”××•×¦×¨">
    <input type="number" id="pPrice" placeholder="××—×™×¨ ×‘-â‚ª">
    <input type="text" id="pImg" placeholder="×§×™×©×•×¨ ×œ×ª××•× ×”">
    
    <label style="display:block; text-align:right; margin-top:10px;">×‘×—×¨ ×§×˜×’×•×¨×™×”:</label>
    <select id="pCategory">
        <option value="××•×¦×¨×™ ×—×œ×‘ ×•×‘×™×¦×™×">ğŸ¥› ××•×¦×¨×™ ×—×œ×‘ ×•×‘×™×¦×™×</option>
        <option value="×¤×™×¨×•×ª, ×™×¨×§×•×ª">ğŸ ×¤×™×¨×•×ª ×•×™×¨×§×•×ª</option>
        <option value="×‘×©×¨, ×¢×•×£ ×•×“×’×™×">ğŸ¥© ×‘×©×¨, ×¢×•×£ ×•×“×’×™×</option>
        <option value="×œ×—××™× ×•×“×’× ×™×">ğŸ¥– ×œ×—××™× ×•×“×’× ×™×</option>
        <option value="××©×§××•×ª, ×™×™×Ÿ, ××œ×›×•×”×•×œ">ğŸ¥¤ ××©×§××•×ª</option>
        <option value="×—×˜×™×¤×™, ××ª×•×§×™× ×•×“×’× ×™ ×‘×•×§×¨">ğŸ¥¨ ×—×˜×™×¤×™× ×•××ª×•×§×™×</option>
        <option value="×‘×™×©×•×œ, ××¤×™×” ×•×©×™××•×¨×™×">ğŸ¥« ×©×™××•×¨×™× ×•×‘×™×©×•×œ</option>
        <option value="××•×¦×¨×™ ×˜×™×¤×•×—, × ×™×§×™×•×Ÿ ×•×—×“ ×¤×¢××™">ğŸ§¼ × ×™×§×™×•×Ÿ ×•×˜×™×¤×•×—</option>
    </select>
    
    <button onclick="addProduct()">×”×•×¡×£ ××•×¦×¨ ×œ××“×£</button>
    <button class="danger" onclick="clearAll()">ğŸ—‘ï¸ ××—×§ ×”×›×œ (××™×¤×•×¡ ×—× ×•×ª)</button>
</div>

<h3>×¨×©×™××ª ××•×¦×¨×™× ×§×™×™××ª</h3>
<table>
    <thead>
        <tr>
            <th>×ª××•× ×”</th>
            <th>×©×</th>
            <th>×§×˜×’×•×¨×™×”</th>
            <th>××—×™×¨</th>
            <th>×¤×¢×•×œ×”</th>
        </tr>
    </thead>
    <tbody id="adminList"></tbody>
</table>

<script>
    let products = JSON.parse(localStorage.getItem('myGroceries')) || [];

    function addProduct() {
        const name = document.getElementById('pName').value;
        const price = document.getElementById('pPrice').value;
        const img = document.getElementById('pImg').value || 'https://via.placeholder.com/150';
        const category = document.getElementById('pCategory').value;

        if(!name || !price) return alert("×—×•×‘×” ×œ××œ× ×©× ×•××—×™×¨!");

        const newProduct = {
            id: Date.now(),
            name: name,
            price: parseFloat(price),
            img: img,
            category: category,
            inStock: true
        };

        products.push(newProduct);
        saveAndRender();
        
        // × ×™×§×•×™ ×©×“×•×ª
        document.getElementById('pName').value = '';
        document.getElementById('pPrice').value = '';
        document.getElementById('pImg').value = '';
    }

    function render() {
        const list = document.getElementById('adminList');
        list.innerHTML = '';
        products.forEach((p, index) => {
            list.innerHTML += `
                <tr>
                    <td><img src="${p.img}" class="img-preview"></td>
                    <td>${p.name}</td>
                    <td>${p.category}</td>
                    <td>â‚ª${p.price}</td>
                    <td><button class="danger" style="width:auto; padding:5px 10px;" onclick="deleteProduct(${index})">××—×§</button></td>
                </tr>
            `;
        });
    }

    function deleteProduct(index) {
        if(confirm("×œ××—×•×§ ××ª ×”××•×¦×¨?")) {
            products.splice(index, 1);
            saveAndRender();
        }
    }

    function clearAll() {
        if(confirm("×–×” ×™××—×§ ××ª ×›×œ ×”××•×¦×¨×™×! ×‘×˜×•×—?")) {
            products = [];
            saveAndRender();
        }
    }

    function saveAndRender() {
        localStorage.setItem('myGroceries', JSON.stringify(products));
        render();
    }

    // ×”×¤×¢×œ×” ×¨××©×•× ×™×ª
    render();
</script>
</body>
</html>